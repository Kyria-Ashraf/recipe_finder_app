!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d8d398fa-087a-470e-b69f-dcdb256b27d4",e._sentryDebugIdIdentifier="sentry-dbid-d8d398fa-087a-470e-b69f-dcdb256b27d4")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6786],{36987:function(e,t,n){"use strict";n.d(t,{Nb:function(){return l},YS:function(){return i},aD:function(){return r},tw:function(){return c},xr:function(){return s}}),n(37866),n(52048);var a=n(22319),r="$flex $justify-center $items-center $rounded-lg $w-35 $h-35 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-white hover:$bg-grayMystic $text-black",s="$text-white",l="$rounded-[8px] $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-white $z-[2] $overflow-hidden $flex $flex-col",c="_m87f4j0 $bg-transparent hover:$bg-grayHades $px-[20px] $py-[10px] $cursor-pointer $sprinkles-text-xs $text-grayOxford $flex $gap-[10px] $items-center",i=(0,a.c)({defaultClassName:"_1rgts1f1 $absolute $top-10 $right-10 $flex $flex-col $gap-10 $transition-all",variantClassNames:{calculating:{true:"$opacity-0",false:"_1rgts1f0 $opacity-0"}},defaultVariants:{calculating:!1},compoundVariants:[]})},77666:function(e,t,n){"use strict";n.d(t,{Bx:function(){return l},LI:function(){return r},Mu:function(){return u},PS:function(){return i},am:function(){return d},b$:function(){return s},pt:function(){return c},th:function(){return o},tu:function(){return f}}),n(55266);var a=n(22319),r=(0,a.c)({defaultClassName:"_1nit3sv0 $flex $flex-col sm:$flex-row $justify-center $items-center $gap-10 $flex-1 sm:$flex-none $z-0 $border-0 sm:$border $rounded $border-grayHeather $min-w-40 $min-h-40 $transition-colors $bg-transparent hover:$bg-grayHeather/10",variantClassNames:{withLabel:{true:"$px-0 sm:$px-20"}},defaultVariants:{withLabel:!1},compoundVariants:[]}),s="$text-grayAqua hover:$text-white $border $border-solid $border-grayAqua/40 hover:$border-white $rounded $pl-15 $pr-15 $flex $font-semibold $flex-row $text-xs $items-center",l="$flex $gap-10",c="$flex $gap-10 $flex-col",i=(0,a.c)({defaultClassName:"_1nit3sv2 $whitespace-normal $font-normal sm:$font-semibold $sprinkles-text-2xs sm:$sprinkles-text-sm $text-grayEbony",variantClassNames:{alwaysVisible:{true:"$block",false:"$block sm:$hidden"}},defaultVariants:{alwaysVisible:!1},compoundVariants:[]}),o="$text-lg $text-grayMystic/70 $font-semibold $mb-10",u="$flex $gap-20 $flex-col-reverse",d=(0,a.c)({defaultClassName:"_1nit3sv9",variantClassNames:{mode:{dark:"$fill-grayOxford",base:"$fill-white"}},defaultVariants:{mode:"base"},compoundVariants:[]}),f=(0,a.c)({defaultClassName:"_1nit3sv6 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $rounded-md $overflow-hidden $w-300 $max-w-[100vw] $p-20 $flex $flex-col $gap-10",variantClassNames:{color:{pikaso:"_1nit3sv5",default:"$bg-white"}},defaultVariants:{},compoundVariants:[]})},45330:function(e,t,n){"use strict";n.r(t),n.d(t,{AddToCollection:function(){return eh}});var a=n(97458),r=n(52956),s=n(99041),l=n(7032),c=n(66287),i=n(60889),o=n(50273),u=n(73418),d=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M244 402H70c-8.3 0-15-6.7-15-15V210h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25V135c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70C34.2 20 5 49.2 5 85v302c0 35.8 29.2 65 65 65h174c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 70h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55V85c0-8.3 6.7-15 15-15"}),(0,a.jsx)("path",{d:"M482 364h-53v-53c0-13.8-11.2-25-25-25s-25 11.2-25 25v53h-53c-13.8 0-25 11.2-25 25s11.2 25 25 25h53v53c0 13.8 11.2 25 25 25s25-11.2 25-25v-53h53c13.8 0 25-11.2 25-25s-11.2-25-25-25"})]}),f=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24","aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M23.531 7.266v11.812a3.05 3.05 0 0 1-3.047 3.047H3.516a3.05 3.05 0 0 1-3.047-3.047V4.922a3.05 3.05 0 0 1 3.047-3.047h3.28a3.05 3.05 0 0 1 2.966 2.344h10.722a3.05 3.05 0 0 1 3.047 3.047"})}),$=n(32748),h=n(77666),x=n(36987);let m=e=>{let{isCollapsed:t,added:n,onClick:r,mode:s,tooltipProps:m={side:"top"},buttonClassName:v,labelClassName:p,showLabel:g=!0}=e,{t:w}=(0,$.$G)("common"),b=(0,c.a)("lg"),j=(0,i.nD)(),y=w(n?"addedToCollection":"addToCollection"),C=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.T,{children:y}),(0,a.jsx)(o.J,{as:n?f:d,size:"base",color:n?"blueFreepik":void 0})]}),_=(0,a.jsxs)("button",{className:t?x.tw:x.aD,onClick:r,children:[C,t&&(0,a.jsx)("span",{children:y})]});return("large"===s&&(_=(0,a.jsxs)("button",{className:null!=v?v:h.LI(),onClick:r,children:[C,g&&(0,a.jsx)("span",{className:null!=p?p:h.PS(),children:y})]})),!b||"large"===s||t)?_:(0,a.jsx)(l.u,{...m,trigger:_,triggerAsChild:!0,hideOnLeaveHover:!0,container:j.current,children:y})};var v=n(81801),p=n(93962),g=n.n(p);n(34835);var w=n(22319),b="_c4jkjm2 _c4jkjm0 $flex $flex-1 $flex-col $w-full $border $border-r-0 $border-grayCadet $p-10",j="$flex",y="_c4jkjm3 $overflow-y-auto $mb-20",C=(0,w.c)({defaultClassName:"_c4jkjm5 _c4jkjm4 $relative $w-full $flex $justify-between $items-center $pr-15 $border-b-xs $border-grayCadet/50 $font-semibold",variantClassNames:{active:{true:"$text-blueFreepik",false:"$text-grayOxford"}},defaultVariants:{active:!1},compoundVariants:[]}),_=n(52983);let N=(0,_.createContext)({}),k=()=>(0,_.useContext)(N);var E=n(12289),S=n(97114);let I=()=>{let e=Array.from({length:5},(e,t)=>t);return(0,a.jsx)("div",{className:"$mb-20 $overflow-y-auto",children:e.map(e=>(0,a.jsx)("div",{className:C(),children:(0,a.jsx)(S.O.Rect,{className:"$h-20"})},e))})},T=()=>{let{t:e}=(0,$.$G)("common");return(0,a.jsx)("div",{className:y,children:(0,a.jsx)("p",{children:e("noCollectionsAvailable")})})};var D=n(7616),V=n(17989);let R=e=>{var t;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection}};var O=n(48294),G=n(83598);let H=e=>{let{collections:t,isSelected:n,onSelect:r}=e,{t:s}=(0,$.$G)("common");return t&&0!==t.length?(0,a.jsx)("div",{className:y,children:t.map(e=>{let t=e.id&&(null==n?void 0:n.includes(e.id))||!1;return(0,a.jsxs)("button",{className:C({active:t}),onClick:()=>{r(e)},children:[(0,a.jsx)("span",{children:e.name}),t&&(0,a.jsx)(o.J,{as:O.Z}),(0,a.jsxs)("span",{className:"_c4jkjm8 $absolute $right-15 $text-grayHeather $sprinkles-text-sm $flex $items-center $gap-10 $bg-white $opacity-0",children:[t?s("remove"):s("select"),(0,a.jsx)(o.J,{as:t?G.Z:O.Z})]})]},e.id)})}):(0,a.jsx)(T,{})},P=e=>{let{userCollectionsResult:t}=e,n=(0,D.b9)(V.HQ),r=(0,D.Dv)(V.GD),{data:s}=t,l=s.filter(e=>"owned"===e.ownership),{handleCollectionSelection:c,collectionsSelected:i}=k();return(0,_.useEffect)(()=>{""===r&&n(t)},[r,n,t]),(0,a.jsx)(H,{collections:l.map(R),onSelect:c,isSelected:i.map(e=>e.id)})},L=e=>{let{id:t}=e,n=(0,E.l)({page:1,resourceId:t});return n.isError?(0,a.jsx)(T,{}):n.isPending?(0,a.jsx)(I,{}):n.isSuccess?(0,a.jsx)(P,{userCollectionsResult:n.data}):(0,a.jsx)(I,{})},M=e=>{let{onCreate:t}=e,[n,r]=(0,_.useState)(""),{t:s}=(0,$.$G)("common");return(0,a.jsxs)("div",{className:j,children:[(0,a.jsx)("input",{type:"text",className:b,placeholder:"".concat(s("createNewCollection")),value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(t(n),r(""))}}),(0,a.jsx)(v.f5,{color:"blue",radius:"none",onClick:()=>{t(n),r("")},children:(0,a.jsx)("span",{className:"$leading-tight",children:s("addCollection")})})]})};var A=n(52404),B=n(34606);let F=()=>{let{openToast:e}=(0,A.x_)(),{t}=(0,$.$G)("collections"),n=(0,E.g)();return{handleCreate:(0,_.useCallback)(async a=>{0!==a.length&&((await (0,B.B)({name:a,description:"",type:"private"})).success?e({type:"success",message:t("collectionCreatedSuccessfully")}):e(),n())},[n,e,t])}},J=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,D.Dv)(V.HQ);return{collections:e,nextPage:t}};var Z=n(94669),U=n(92521);let q=e=>{let{placeholder:t,onSearch:n}=e;return(0,a.jsxs)("div",{className:(0,U.m)("$mb-20",j),children:[(0,a.jsx)("input",{type:"text",className:b,placeholder:t,onChange:e=>{n(e.target.value)}}),(0,a.jsx)(v.f5,{color:"blue",radius:"none",children:(0,a.jsx)(o.J,{as:Z.Z})})]})},Q=e=>{let{type:t,id:n,preview:r}=e,{t:s}=(0,$.$G)("common"),{collections:l}=J(),{isDirty:c,handleSaveChanges:i,handleSearch:o,isSearchByApi:u}=k(),{handleCreate:d}=F(),f=l.length>=8||u;return(0,a.jsxs)("div",{className:"$flex $bg-white",children:[(0,a.jsx)("div",{className:"$relative $hidden md:$flex $justify-center $items-center $w-300",children:"icon"!==t?(0,a.jsx)(g(),{src:r,className:"$object-cover",alt:"preview",fill:!0}):(0,a.jsx)(g(),{src:r,alt:"preview",width:128,height:128})}),(0,a.jsxs)("div",{className:"_c4jkjm1 _c4jkjm0 $flex $flex-1 $flex-col $justify-between $p-25 $pt-30 $leading-relaxed $text-grayOxford",children:[(0,a.jsx)("p",{className:"$sprinkles-text-xl $font-semibold $mb-15",children:s("addToCollection")}),(0,a.jsxs)("div",{className:"_c4jkjm0 $flex $flex-1 $flex-col",children:[f&&(0,a.jsx)(q,{placeholder:"".concat(s("search")),onSearch:o}),(0,a.jsx)(L,{id:n,preview:r,type:t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{onCreate:d}),(0,a.jsx)(v.gg,{color:"blue",radius:"xs",block:!0,onClick:i,disabled:!c,className:"$mt-20",children:s("saveChanges")})]})]})]})};var K=n(18166);let z=()=>(0,_.useCallback)(e=>{let{collectionId:t,collectionName:n,fileId:a,location:r}=e;(0,K.sendGTMEvent)({collection_id:t,collection_name:n,event_name:"add_to_collection",event:"ga4event",file_id:a,location:r})},[]);var X=n(86686);let W=async e=>{let{id:t,collectionId:n,resourceType:a}=e;return await (0,X.c)("/api/user/resources/".concat(t,"/collections"),"DELETE",{collectionId:n,resourceType:a})},Y=async e=>{let{id:t,collectionId:n,resourceType:a}=e;return await (0,X.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:n,resourceType:a})};var ee=n(41843),et=n(12297),en=n(24399),ea=n(73139);let er=(0,en.cn)([]),es=(0,ea.xu)(e=>{let{id:t,type:n}=e;return(0,en.cn)(e=>!!e(ee.PQ)&&e(er).some(e=>e.id===t&&e.type===n),(e,a,r)=>{a(er,e=>r?e.filter(e=>e.id!==t):[...e,{id:t,type:n}])})},et.vZ),el=e=>{let{type:t,id:n,location:a}=e,[r,s]=(0,_.useState)([]),[l,c]=(0,_.useState)([]),[i,o]=(0,_.useState)([]),{collections:u}=J(),d=(0,D.b9)(es({type:t,id:n})),f=(0,E.g)(),{openToast:h}=(0,A.x_)(),{t:x}=(0,$.$G)("collections"),m=z(),v=(0,_.useMemo)(()=>(null==u?void 0:u.length)>0?u.filter(e=>e.hasResourceInCollection).map(R):[],[u]);(0,_.useEffect)(()=>{(null==u?void 0:u.length)>0&&o(v)},[u,v]);let p=r.length>0||l.length>0,g=(0,_.useCallback)(async()=>{if(0===r.length&&0===l.length)return;let e=[];r.length>0&&e.push(Y({id:n,collectionId:r.map(e=>e.id),resourceType:t})),l.length>0&&e.push(W({id:n,collectionId:l.map(e=>e.id),resourceType:t}));try{(await Promise.all(e)).every(e=>null==e?void 0:e.success)?(r.forEach(e=>{m({fileId:n,collectionId:e.id,collectionName:e.name,location:a})}),s([]),c([]),h({type:"success",message:x("changesSavedSuccessfully")}),d((null==i?void 0:i.length)===0)):h(),f()}catch(e){h()}},[null==i?void 0:i.length,r,l,n,a,f,m,d,h,x,t]),w=e=>{let{array:t,collection:n}=e;return t.map(e=>e.id).includes(n.id)?t.filter(e=>e.id!==n.id):[...t,n]},b=(0,_.useCallback)(async e=>{o(t=>w({array:t,collection:e}))},[]);return{isDirty:p,collectionsSelected:i,handleCollectionSelection:(0,_.useCallback)(async e=>{b(e),u.some(t=>t.id===e.id&&t.hasResourceInCollection)?c(t=>w({array:t,collection:e})):s(t=>w({array:t,collection:e}))},[u,b]),handleSaveChanges:g}},ec=()=>{let{collections:e,nextPage:t}=J(),[n,a]=(0,_.useState)([]),r=(0,D.b9)(V.GD),s=(0,_.useRef)();(0,_.useEffect)(()=>{(null==e?void 0:e.length)>0&&a(e.map(R))},[e,t]);let l=null!==t,c=t=>{a((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map(R))},i=async e=>{s.current&&clearTimeout(s.current),s.current=setTimeout(async()=>{r(e)},350)};return{isSearchByApi:l,searchCollections:n,handleSearch:e=>{l?i(e):c(e)}}},ei=e=>{let{children:t,id:n,type:r,location:s}=e,{collectionsSelected:l,handleCollectionSelection:c,handleSaveChanges:i,isDirty:o}=el({type:r,id:n,location:s}),{searchCollections:u,isSearchByApi:d,handleSearch:f}=ec(),$=(0,_.useMemo)(()=>({collectionsSelected:l,searchCollections:u,isSearchByApi:d,isDirty:o,handleCollectionSelection:c,handleSearch:f,handleSaveChanges:i}),[l,c,i,f,o,d,u]);return(0,a.jsx)(N.Provider,{value:$,children:t})};var eo=n(96005),eu=n(42011),ed=n(34529);let ef=()=>(0,_.useCallback)(e=>{let{location:t,fileId:n}=e;(0,K.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:n})},[]),e$=e=>{let{id:t,type:n,location:a}=e,{t:r}=(0,$.$G)("error"),s=(0,D.Dv)(es({id:t,type:n})),l=(0,ed.oC)(V.GD),[c,i]=(0,_.useState)(!1),o=(0,eu.d)(),{loginUrl:u,setLoginCookies:d}=(0,eo.J)(),{openToast:f}=(0,A.x_)(),h=(0,E.g)(),x=ef();return{added:s,showModal:c,setShowModal:i,onClick:()=>{if(!o){d(),window.location.href=u;return}h(),i(!0),x({location:a,fileId:t})},handleError:e=>{console.error(e),f({type:"danger",message:r("unknown")}),i(!1)},handleOpenChange:()=>{l(),i(!1)}}},eh=e=>{let{type:t,id:n,preview:l,mode:c,location:i,tooltipProps:o,buttonClassName:u,labelClassName:d,showLabel:f=!0}=e,{added:$,onClick:h,showModal:x,handleOpenChange:v}=e$({id:n,type:t,location:i}),p=(0,s.U)().isCollapsed;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{isCollapsed:p,onClick:h,added:$,mode:null!=c?c:"normal",tooltipProps:o,buttonClassName:u,showLabel:f,labelClassName:d}),(0,a.jsx)(r.u,{open:x,onOpenChange:v,thumbnail:!0,children:(0,a.jsx)(ei,{id:n,type:t,location:i,children:(0,a.jsx)(Q,{type:t,id:n,preview:l})})})]})}},34606:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var a=n(86686);let r=e=>{let{name:t,description:n,type:r}=e;return(0,a.c)("/api/user/collections","POST",{name:t,...n&&{description:n},...r&&{type:r}})}},70831:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var a=n(86686);let r=e=>{let{page:t,resourceId:n,searchTerm:r,collectionIds:s,ownership:l}=e,c=s?s.join(","):void 0,i={page:"".concat(t),...n&&{resourceId:"".concat(n)},...r&&{"filter[term]":r},...c&&{"filter[ids]":c},...l&&{"filter[ownership]":l}},o="/api/user/collections?".concat(new URLSearchParams(i));return(0,a.c)(o,"GET")}},12289:function(e,t,n){"use strict";n.d(t,{g:function(){return u},l:function(){return o}});var a=n(1116),r=n(25288),s=n(7616),l=n(52983),c=n(70831),i=n(17989);let o=e=>{let{page:t=1,resourceId:n}=e,r=(0,s.Dv)(i.GD);return(0,a.a)({queryKey:[...d,{page:t,resourceId:n,searchTerm:r}],queryFn:async()=>{let{data:e,success:a}=await (0,c.X)({page:t,resourceId:n,searchTerm:r});if(!a)throw Error(e);return e}})},u=()=>{let e=(0,r.NL)();return(0,l.useCallback)(()=>{e.invalidateQueries({queryKey:d})},[e])},d=["collections","all"]},17989:function(e,t,n){"use strict";n.d(t,{GD:function(){return r},HQ:function(){return s},w0:function(){return l}});var a=n(24399);let r=(0,n(73139).rw)(""),s=(0,a.cn)({data:[],meta:{pagination:{nextPage:null,perPage:0,prevPage:null,currentPage:0}}}),l=(0,a.cn)([])},99041:function(e,t,n){"use strict";n.d(t,{T:function(){return l},U:function(){return c}});var a=n(97458),r=n(52983);let s=(0,r.createContext)({isCollapsed:null}),l=e=>{let{isCollapsed:t,children:n}=e;return(0,a.jsx)(s.Provider,{value:{isCollapsed:t},children:n})},c=()=>(0,r.useContext)(s)},86686:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});let a=async(e,t,n,a)=>{let r=a?new Headers:void 0;return(null==a?void 0:a.locale)&&r&&r.set("accept-language",a.locale),(null==a?void 0:a.cache)&&r&&r.set("cache",a.cache),fetch(e,{method:t,...n&&{body:JSON.stringify(n)},...a&&{...a,headers:r}}).then(async e=>e.ok?{success:!0,data:204===e.status?null:await e.json()}:400===e.status?{success:!1,data:e.statusText}:401===e.status||405===e.status?{success:!1,data:"AUTHENTICATION_ERROR"}:403===e.status?{success:!1,data:"FORBIDDEN"}:500===e.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:404===e.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:await e.json()})}},97137:function(e,t,n){"use strict";var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M269.2 438.4c-100.6 0-182.4-81.8-182.4-182.4S168.6 73.6 269.2 73.6c61.1 0 117.9 30.4 151.8 81.3 7.7 11.5 4.6 27-6.9 34.7s-27 4.6-34.7-6.9c-24.6-37-65.9-59.1-110.2-59.1-73 0-132.4 59.4-132.4 132.4s59.4 132.4 132.4 132.4c44.4 0 85.6-22.1 110.2-59.1 7.7-11.5 23.2-14.6 34.7-6.9s14.6 23.2 6.9 34.7c-33.9 50.9-90.7 81.3-151.8 81.3"})})},77575:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a.B},to:function(){return r.t}});var a=n(48397),r=n(98159);n(89768)},89768:function(e,t,n){"use strict";n.d(t,{s:function(){return s}});var a=n(29892);let r=(e,t)=>e.toLocaleLowerCase().startsWith("fr")?"".concat(t," %"):"".concat(t,"%"),s=()=>{let e=(0,a.N)();return{onFormat:t=>{let n=t.toFixed(0);return e?r(e,n):"".concat(n,"%")}}}},96005:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var a=n(71409),r=n(69195);let s=()=>{let e=(0,r.A)(),t=(0,a.aw)(),n=(0,a.ZK)();return{loginUrl:"".concat("es"===n?"https://www.freepik.es/log-in":"https://www.freepik.com/log-in","?").concat(t),setLoginCookies:e}}},34835:function(){},52048:function(){},37866:function(){},55266:function(){}}]);